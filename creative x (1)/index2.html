<!DOCTYPE html>

<html>

<head>
<meta charset ="utf-8"/>
<link rel="stylesheet" href="css/style.css">
<link rel="shortcut icon" href="images/logoicon.png">
<title>Chessmate</title>
  <base href="http://chessboardjs.com/" />
  <link rel="stylesheet" href="css/chessboard.css" />
<meta name="description" content="Write some words to describe your html page">
</head>

<body>
<div class="blended_grid" action="nÃ¥got.html" method="post">

<div class="pageHeader">
    <input name="submit" class="signup" type="submit" value="Sign up" /><br>
    <input name="submit" class="signin" type="submit" value="Sign in" />
    </ul>
</div>

<form action="index.html" method="get">
<div class="pageLeftMenu">
<h1>Gamemode</h1>
<input list="gamemode" value="Normal" class="mode" type="datalist" onfocus="this.blur()"/>
			<datalist id="gamemode">
				<option value="Normal">
				<option value="Dubble">
				<option value="Atomic">
			</datalist>
<h1>Time</h1>
<input list="time" value="10" class="time" type="datalist" onfocus="this.blur()"/>
			<datalist id="time">
				<option value="10"><p>minutes</p>
				<option value="20"><p>minutes</p>
				<option value="30"><p>minutes</p>
			</datalist>
<h1>Side</h1>
<input list="side" value="White" class="mode" type="datalist" onfocus="this.blur()"/>
			<datalist id="side">
				<option value="Random">
				<option value="White">
				<option value="Black">
			</datalist>

<input name="submit" class="btn" type="submit" value="Find match" />
</div>
</form>

<div class="pageContent" id="clockdiv">
<style type="text/css">
.highlight-white {
  -webkit-box-shadow: inset 0 0 3px 3px yellow;
  -moz-box-shadow: inset 0 0 3px 3px yellow;
  box-shadow: inset 0 0 3px 3px yellow;  
}
.highlight-black {
  -webkit-box-shadow: inset 0 0 3px 3px blue;
  -moz-box-shadow: inset 0 0 3px 3px blue;
  box-shadow: inset 0 0 3px 3px blue;  
}
</style>
<script src="js/chess.js"></script>
<div id="board" style="width: 500px; margin-left:83px; margin-top:50px"></div>
<script src="js/json3.min.js"></script>
<script src="js/jquery-1.10.1.min.js"></script>
<script src="js/chessboard.js"></script>

  <div>
    <span class="minutes"></></span>
    <div class="smalltext">Minutes</div>
	<br><br><br><br><br><br><br><br><br><br><br><br>
  </div>
  <div>
    <span class="seconds"></span>
    <div class="smalltext">Seconds</div>
	<br><br><br><br><br><br><br><br><br><br><br><br>
  </div>
  <script>
function getTimeRemaining(endtime) {
  var t = Date.parse(endtime) - Date.parse(new Date());
  var seconds = Math.floor((t / 1000) % 60);
  var minutes = Math.floor((t / 1000 / 60) % 60);
  return {
    'total': t,
    'minutes': minutes,
    'seconds': seconds
  };
}

function initializeClock(id, endtime) {
  var clock = document.getElementById(id);
  var minutesSpan = clock.querySelector('.minutes');
  var secondsSpan = clock.querySelector('.seconds');

  function updateClock() {
    var t = getTimeRemaining(endtime);

    minutesSpan.innerHTML = ('0' + t.minutes).slice(-2);
    secondsSpan.innerHTML = ('0' + t.seconds).slice(-2);

    if (t.total <= 0) {
      clearInterval(timeinterval);
    }
  }

  updateClock();
  var timeinterval = setInterval(updateClock, 1000);
}

var deadline = new Date(Date.parse(new Date()) +10 * 60 * 1000);
initializeClock('clockdiv', deadline);
</script>
<script>
var init = function() {

var board,
  game = new Chess();

board = ChessBoard('board');

}; 
$(document).ready(init);
</script>
<script>
var init = function() {

var board,
  game = new Chess();

var onDragStart = function(source, piece, position, orientation) {
  if (game.in_checkmate() === true || game.in_draw() === true ||
    piece.search(/^b/) !== -1) {
    return false;
  }
};

var makeRandomMove = function() {
  var possibleMoves = game.moves();

  // game over
  if (possibleMoves.length === 0) ;{
	
  }

  var randomIndex = Math.floor(Math.random() * possibleMoves.length);
  game.move(possibleMoves[randomIndex]);
  board.position(game.fen());
};

var onDrop = function(source, target) {
  // see if the move is legal
  var move = game.move({
    from: source,
    to: target,
    promotion: 'q' // NOTE: always promote to a queen for example simplicity
  });

  // illegal move
  if (move === null) return 'snapback';

  // make random legal move for black
  window.setTimeout(makeRandomMove, 250);
};

// update the board position after the piece snap
// for castling, en passant, pawn promotion
var onSnapEnd = function() {
  board.position(game.fen());
};

var cfg = {
  draggable: true,
  position: 'start',
  onDragStart: onDragStart,
  onDrop: onDrop,
  onSnapEnd: onSnapEnd
};
board = ChessBoard('board', cfg);
//--- end example JS ---

}; 
$(document).ready(init);
</script>
<script>
var init = function() {
//--- start example JS ---var ruyLopez = 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R';var board = ChessBoard('board', ruyLopez);$('#showOrientationBtn').on('click', function() {  console.log("Board orientation is: " + board.orientation());});$('#flipOrientationBtn').on('click', board.flip);$('#whiteOrientationBtn').on('click', function() {  board.orientation('white');});$('#blackOrientationBtn').on('click', function() {  board.orientation('black');});//--- end example JS ---
}; 

function refreshpage(interval, countdownel, totalel){
	var countdownel = document.getElementById(countdownel)
	var totalel = document.getElementById(totalel)
	var timeleft = interval+1
	var countdowntimer

	function countdown(){
		timeleft--
		countdownel.innerHTML = timeleft
		if (timeleft == 0){
			clearTimeout(countdowntimer)
			window.open("file:///C:/Users/oscbj%C3%B61/Desktop/creative%20x/index.html")
			window.close()
		}
		countdowntimer = setTimeout(function(){
			countdown()
		}, 1000)
	}

	countdown()
}

window.onload = function(){
	refreshpage(600, "countdown") // refreshpage(duration_in_seconds, id_of_element_to_show_result)
}
</script>

</div>

<div id="footer"><a href="">Contact Us</a>
<a>|</a>
<a href="http://www.novasoftware.se/webviewer/(S(vdlhly55pqlms355c0dgtz45))/design1.aspx?schoolid=82510&code=330918">Schedule</a>
<div><a href="javascript:window.open()"><b hidden, id="countdown"></b></div>
</div>

</div>
</body>
</html>
